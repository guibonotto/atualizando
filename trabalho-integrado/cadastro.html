<!DOCTYPE html>
<html>
<head>
    <title>Cadastre-se já</title>
    <link rel="stylesheet" type="text/css" href="css/cadlog.css">
    <meta charset="utf-8">
    <link rel="icon" href="img/logo.png" type="image/x-icon">
</head>
<body>
    <div class="container">
        <h2>Cadastro</h2>
        <form id="cadastroForm" action="processar_cadastro.php" method="post">
            <label for="nome">Nome:</label>
            <input type="text" id="nome" name="nome" required>
            <div id="nomeError" class="error-message"></div>

            <label for="telefone">Telefone:</label>
            <input type="tel" id="telefone" name="telefone" required>
            <div id="telefoneError" class="error-message"></div>

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>
            <div id="emailError" class="error-message"></div>

            <label for="senha">Senha:</label>
            <input type="password" id="senha" name="senha" required>
            <div id="senhaError" class="error-message"></div>

            <label for="problema">Digite sua necessidade:</label>
            <input type="text" id="problema" name="problema" required>
            <div id="problemaError" class="error-message"></div>

            <input type="submit" value="Cadastrar" id="cadastrarbotao">
        </form>
    </main>
    
    <script>
        const form = document.getElementById('cadastroForm');

        form.addEventListener('submit', function(event) {
            event.preventDefault();
            validateForm();
        });

        function validateForm() {
            // Limpar mensagens de erro
            clearErrorMessages();

            // Obter valores dos campos
            const nome = document.getElementById('nome').value;
            const telefone = document.getElementById('telefone').value;
            const email = document.getElementById('email').value;
            const senha = document.getElementById('senha').value;
            const problema = document.getElementById('problema').value;

            // Expressões regulares para validação
            const nomeRegex = /^[a-zA-Z\s]+$/;
            const telefoneRegex = /^\d{10,}$/;
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            const senhaRegex = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/;

            // Validar Nome
            if (!nomeRegex.test(nome)) {
                displayErrorMessage('nomeError', 'Nome inválido. Utilize apenas letras e espaços.');
            }

            // Validar Telefone
            if (!telefoneRegex.test(telefone)) {
                displayErrorMessage('telefoneError', 'Telefone inválido. Utilize no mínimo 10 dígitos numéricos.');
            }

            // Validar Email
            if (!emailRegex.test(email)) {
                displayErrorMessage('emailError', 'Email inválido. Certifique-se de inserir um email válido.');
            }

            // Validar Senha
            if (!senhaRegex.test(senha)) {
                displayErrorMessage('senhaError', 'Senha inválida. Utilize pelo menos 8 caracteres, incluindo maiúsculas, minúsculas e números.');
            }

            // Validar Necessidade
            if (problema.trim() === '') {
                displayErrorMessage('problemaError', 'Por favor, descreva sua necessidade.');
            }
        }

        function displayErrorMessage(id, message) {
            const errorElement = document.getElementById(id);
            errorElement.innerText = message;
        }

        function clearErrorMessages() {
            const errorMessages = document.querySelectorAll('.error-message');
            errorMessages.forEach(message => message.innerText = '');
        }
    </script>
        <h3>Já possui um cadastro?</h3>
        <a href="login.php">CLIQUE AQUI</a>
    </div>
</body>
</html>
